{"version":3,"sources":["jquery.mobile.custom.ext.js","main.js","bug.ext.js"],"names":["root","doc","factory","define","amd","$","mobile","jQuery","this","document","window","undefined","getNativeEvent","event","originalEvent","createVirtualEvent","eventType","oe","props","ne","prop","ct","touch","i","j","len","t","type","Event","search","mouseEventProps","length","which","touches","changedTouches","touchEventProps","getVirtualBindingFlags","element","b","k","flags","data","dataPropertyName","hasVirtualBinding","parentNode","getClosestElementWithVirtualBinding","enableTouchBindings","blockTouchTriggers","disableTouchBindings","enableMouseBindings","lastTouchID","clickBlockList","blockMouseTriggers","disableMouseBindings","startResetTimer","clearResetTimer","resetTimerID","setTimeout","vmouse","resetTimerDuration","clearTimeout","triggerVirtualEvent","ve","target","trigger","mouseEventCallback","touchID","touchTargetPropertyName","isDefaultPrevented","preventDefault","isPropagationStopped","stopPropagation","isImmediatePropagationStopped","stopImmediatePropagation","handleTouchStart","nextTouchID","didScroll","startX","pageX","startY","pageY","handleScroll","handleTouchMove","didCancel","moveThreshold","moveDistanceThreshold","Math","abs","handleTouchEnd","push","x","clientX","y","clientY","hasVirtualBindings","ele","bindings","dummyMouseHandler","getSpecialEventObject","realType","substr","setup","activeDocHandlers","$document","bind","eventCaptureSupported","teardown","unbind","$this","removeData","threshold","virtualEventNames","split","mouseHookProps","mouseHooks","concat","clickDistanceThreshold","special","addEventListener","e","o","cnt","support","extend","triggerCustomEvent","obj","bubble","originalType","dispatch","call","supportTouch","scrollEvent","touchStartEvent","touchStopEvent","touchMoveEvent","each","name","fn","attrFn","scrollstart","enabled","state","scrolling","thisObject","timer","tap","tapholdThreshold","emitTapOnTaphold","isTaphold","clearTapTimer","clearTapHandlers","clickHandler","origTarget","swipe","scrollSupressionThreshold","durationThreshold","horizontalDistanceThreshold","verticalDistanceThreshold","getLocation","winPageX","pageXOffset","winPageY","pageYOffset","floor","start","location","time","Date","getTime","coords","origin","stop","handleSwipe","direction","swipestart","swipestop","eventInProgress","events","context","emitted","move","off","on","one","scrollstop","taphold","swipeleft","swiperight","sourceEvent","noop","isLocalhost","Boolean","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","Error","console","error","click","text","closest","find","toggle","querySelector","MaterialProgress","setProgress","setBuffer","showPlayButton","removeClass","ready","log","BugDispatch","options","minDelay","maxDelay","minBugs","maxBugs","minSpeed","maxSpeed","maxLargeTurnDeg","maxSmallTurnDeg","maxWiggleDeg","imageSprite","bugWidth","bugHeight","num_frames","zoom","canFly","canDie","numDeathTypes","monitorMouseMovement","eventDistanceToBug","minTimeBetweenMultipy","mouseOver","initialize","mergeOptions","modes","indexOf","transform","transforms","Moz","s","bug","style","MozTransform","webkit","webkitTransform","O","OTransform","ms","msTransform","Khtml","KhtmlTransform","w3c","documentElement","vendors","bugs","numBugs","random","that","JSON","parse","stringify","SpawnBug","wingsOpen","walkSpeed","spawnDelay","delay","thebug","flyIn","walkIn","add_events_to_bug","onmousemove","check_if_mouse_close_to_bug","end","remove","reset","killAll","die","on_bug","attachEvent","posx","posy","client","page","body","scrollLeft","scrollTop","pos","getPos","top","left","flyperiodical","near_bug","alive","mode","flyRand","flyOff","multiplyDelay","drawBug","go","min","max","round","result","BugController","apply","arguments","prototype","SpiderController","spiderOptions","Bug","flySpeed","edge_resistance","NEAR_TOP_EDGE","NEAR_BOTTOM_EDGE","NEAR_LEFT_EDGE","NEAR_RIGHT_EDGE","directions","angle_deg","angle_rad","large_turn_angle_deg","near_edge","edge_test_counter","small_turn_counter","large_turn_counter","fly_counter","toggle_stationary_counter","stationary","active","walkIndex","flyIndex","twitchTimer","rad2deg_k","PI","deg2rad_k","makeBug","deg2rad","animating","going","requestAnimFrame","animate","inserted","removeChild","bottom","_lastTimestamp","delta","toggleStationary","bug_near_window_edge","angle1","angle2","next_large_turn","next_small_turn","dangle","dx","cos","dy","sin","moveBug","walkFrame","row","createElement","className","background","width","height","position","zIndex","setPos","clientHeight","clientWidth","deg","trans","parseInt","appendChild","next_stationary","ypos","backgroundPosition","xpos","fly","landingPosition","currentTop","currentLeft","diffx","diffy","angle","atan","startFlying","rad2deg","setInterval","side","d","g","getElementsByTagName","windowX","innerWidth","windowY","innerHeight","deathType","drop","startPos","finalPos","rotationRate","now","dropTimer","dropping","elapsedTime","deltaPos","newPos","rotationOffset","zoomOffset","ceil","twitch","legPos","rad","plusminus","newBug","hasOwnProperty","obj1","obj2","clone","newobj","cloneOf","key","temp","constructor","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback"],"mappings":"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","file":"main.min.js","sourcesContent":["/*\r\n* jQuery Mobile v1.4.5\r\n* http://jquerymobile.com\r\n*\r\n* Copyright 2010, 2014 jQuery Foundation, Inc. and other contributors\r\n* Released under the MIT license.\r\n* http://jquery.org/license\r\n*\r\n*/\r\n\r\n(function ( root, doc, factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine( [ \"jquery\" ], function ( $ ) {\r\n\t\t\tfactory( $, root, doc );\r\n\t\t\treturn $.mobile;\r\n\t\t});\r\n\t} else {\r\n\t\t// Browser globals\r\n\t\tfactory( root.jQuery, root, doc );\r\n\t}\r\n}( this, document, function ( jQuery, window, document, undefined ) {// This plugin is an experiment for abstracting away the touch and mouse\r\n// events so that developers don't have to worry about which method of input\r\n// the device their document is loaded on supports.\r\n//\r\n// The idea here is to allow the developer to register listeners for the\r\n// basic mouse events, such as mousedown, mousemove, mouseup, and click,\r\n// and the plugin will take care of registering the correct listeners\r\n// behind the scenes to invoke the listener at the fastest possible time\r\n// for that device, while still retaining the order of event firing in\r\n// the traditional mouse environment, should multiple handlers be registered\r\n// on the same element for different events.\r\n//\r\n// The current version exposes the following virtual events to jQuery bind methods:\r\n// \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\"\r\n\r\n(function( $, window, document, undefined ) {\r\n\r\nvar dataPropertyName = \"virtualMouseBindings\",\r\n\ttouchTargetPropertyName = \"virtualTouchID\",\r\n\tvirtualEventNames = \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\".split( \" \" ),\r\n\ttouchEventProps = \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tmouseHookProps = $.event.mouseHooks ? $.event.mouseHooks.props : [],\r\n\tmouseEventProps = $.event.props.concat( mouseHookProps ),\r\n\tactiveDocHandlers = {},\r\n\tresetTimerID = 0,\r\n\tstartX = 0,\r\n\tstartY = 0,\r\n\tdidScroll = false,\r\n\tclickBlockList = [],\r\n\tblockMouseTriggers = false,\r\n\tblockTouchTriggers = false,\r\n\teventCaptureSupported = \"addEventListener\" in document,\r\n\t$document = $( document ),\r\n\tnextTouchID = 1,\r\n\tlastTouchID = 0, threshold,\r\n\ti;\r\n\r\n$.vmouse = {\r\n\tmoveDistanceThreshold: 10,\r\n\tclickDistanceThreshold: 10,\r\n\tresetTimerDuration: 1500\r\n};\r\n\r\nfunction getNativeEvent( event ) {\r\n\r\n\twhile ( event && typeof event.originalEvent !== \"undefined\" ) {\r\n\t\tevent = event.originalEvent;\r\n\t}\r\n\treturn event;\r\n}\r\n\r\nfunction createVirtualEvent( event, eventType ) {\r\n\r\n\tvar t = event.type,\r\n\t\toe, props, ne, prop, ct, touch, i, j, len;\r\n\r\n\tevent = $.Event( event );\r\n\tevent.type = eventType;\r\n\r\n\toe = event.originalEvent;\r\n\tprops = $.event.props;\r\n\r\n\t// addresses separation of $.event.props in to $.event.mouseHook.props and Issue 3280\r\n\t// https://github.com/jquery/jquery-mobile/issues/3280\r\n\tif ( t.search( /^(mouse|click)/ ) > -1 ) {\r\n\t\tprops = mouseEventProps;\r\n\t}\r\n\r\n\t// copy original event properties over to the new event\r\n\t// this would happen if we could call $.event.fix instead of $.Event\r\n\t// but we don't have a way to force an event to be fixed multiple times\r\n\tif ( oe ) {\r\n\t\tfor ( i = props.length, prop; i; ) {\r\n\t\t\tprop = props[ --i ];\r\n\t\t\tevent[ prop ] = oe[ prop ];\r\n\t\t}\r\n\t}\r\n\r\n\t// make sure that if the mouse and click virtual events are generated\r\n\t// without a .which one is defined\r\n\tif ( t.search(/mouse(down|up)|click/) > -1 && !event.which ) {\r\n\t\tevent.which = 1;\r\n\t}\r\n\r\n\tif ( t.search(/^touch/) !== -1 ) {\r\n\t\tne = getNativeEvent( oe );\r\n\t\tt = ne.touches;\r\n\t\tct = ne.changedTouches;\r\n\t\ttouch = ( t && t.length ) ? t[0] : ( ( ct && ct.length ) ? ct[ 0 ] : undefined );\r\n\r\n\t\tif ( touch ) {\r\n\t\t\tfor ( j = 0, len = touchEventProps.length; j < len; j++) {\r\n\t\t\t\tprop = touchEventProps[ j ];\r\n\t\t\t\tevent[ prop ] = touch[ prop ];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn event;\r\n}\r\n\r\nfunction getVirtualBindingFlags( element ) {\r\n\r\n\tvar flags = {},\r\n\t\tb, k;\r\n\r\n\twhile ( element ) {\r\n\r\n\t\tb = $.data( element, dataPropertyName );\r\n\r\n\t\tfor (  k in b ) {\r\n\t\t\tif ( b[ k ] ) {\r\n\t\t\t\tflags[ k ] = flags.hasVirtualBinding = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telement = element.parentNode;\r\n\t}\r\n\treturn flags;\r\n}\r\n\r\nfunction getClosestElementWithVirtualBinding( element, eventType ) {\r\n\tvar b;\r\n\twhile ( element ) {\r\n\r\n\t\tb = $.data( element, dataPropertyName );\r\n\r\n\t\tif ( b && ( !eventType || b[ eventType ] ) ) {\r\n\t\t\treturn element;\r\n\t\t}\r\n\t\telement = element.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction enableTouchBindings() {\r\n\tblockTouchTriggers = false;\r\n}\r\n\r\nfunction disableTouchBindings() {\r\n\tblockTouchTriggers = true;\r\n}\r\n\r\nfunction enableMouseBindings() {\r\n\tlastTouchID = 0;\r\n\tclickBlockList.length = 0;\r\n\tblockMouseTriggers = false;\r\n\r\n\t// When mouse bindings are enabled, our\r\n\t// touch bindings are disabled.\r\n\tdisableTouchBindings();\r\n}\r\n\r\nfunction disableMouseBindings() {\r\n\t// When mouse bindings are disabled, our\r\n\t// touch bindings are enabled.\r\n\tenableTouchBindings();\r\n}\r\n\r\nfunction startResetTimer() {\r\n\tclearResetTimer();\r\n\tresetTimerID = setTimeout( function() {\r\n\t\tresetTimerID = 0;\r\n\t\tenableMouseBindings();\r\n\t}, $.vmouse.resetTimerDuration );\r\n}\r\n\r\nfunction clearResetTimer() {\r\n\tif ( resetTimerID ) {\r\n\t\tclearTimeout( resetTimerID );\r\n\t\tresetTimerID = 0;\r\n\t}\r\n}\r\n\r\nfunction triggerVirtualEvent( eventType, event, flags ) {\r\n\tvar ve;\r\n\r\n\tif ( ( flags && flags[ eventType ] ) ||\r\n\t\t\t\t( !flags && getClosestElementWithVirtualBinding( event.target, eventType ) ) ) {\r\n\r\n\t\tve = createVirtualEvent( event, eventType );\r\n\r\n\t\t$( event.target).trigger( ve );\r\n\t}\r\n\r\n\treturn ve;\r\n}\r\n\r\nfunction mouseEventCallback( event ) {\r\n\tvar touchID = $.data( event.target, touchTargetPropertyName ),\r\n\t\tve;\r\n\r\n\tif ( !blockMouseTriggers && ( !lastTouchID || lastTouchID !== touchID ) ) {\r\n\t\tve = triggerVirtualEvent( \"v\" + event.type, event );\r\n\t\tif ( ve ) {\r\n\t\t\tif ( ve.isDefaultPrevented() ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t\tif ( ve.isPropagationStopped() ) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t\tif ( ve.isImmediatePropagationStopped() ) {\r\n\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handleTouchStart( event ) {\r\n\r\n\tvar touches = getNativeEvent( event ).touches,\r\n\t\ttarget, flags, t;\r\n\r\n\tif ( touches && touches.length === 1 ) {\r\n\r\n\t\ttarget = event.target;\r\n\t\tflags = getVirtualBindingFlags( target );\r\n\r\n\t\tif ( flags.hasVirtualBinding ) {\r\n\r\n\t\t\tlastTouchID = nextTouchID++;\r\n\t\t\t$.data( target, touchTargetPropertyName, lastTouchID );\r\n\r\n\t\t\tclearResetTimer();\r\n\r\n\t\t\tdisableMouseBindings();\r\n\t\t\tdidScroll = false;\r\n\r\n\t\t\tt = getNativeEvent( event ).touches[ 0 ];\r\n\t\t\tstartX = t.pageX;\r\n\t\t\tstartY = t.pageY;\r\n\r\n\t\t\ttriggerVirtualEvent( \"vmouseover\", event, flags );\r\n\t\t\ttriggerVirtualEvent( \"vmousedown\", event, flags );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handleScroll( event ) {\r\n\tif ( blockTouchTriggers ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( !didScroll ) {\r\n\t\ttriggerVirtualEvent( \"vmousecancel\", event, getVirtualBindingFlags( event.target ) );\r\n\t}\r\n\r\n\tdidScroll = true;\r\n\tstartResetTimer();\r\n}\r\n\r\nfunction handleTouchMove( event ) {\r\n\tif ( blockTouchTriggers ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar t = getNativeEvent( event ).touches[ 0 ],\r\n\t\tdidCancel = didScroll,\r\n\t\tmoveThreshold = $.vmouse.moveDistanceThreshold,\r\n\t\tflags = getVirtualBindingFlags( event.target );\r\n\r\n\t\tdidScroll = didScroll ||\r\n\t\t\t( Math.abs( t.pageX - startX ) > moveThreshold ||\r\n\t\t\t\tMath.abs( t.pageY - startY ) > moveThreshold );\r\n\r\n\tif ( didScroll && !didCancel ) {\r\n\t\ttriggerVirtualEvent( \"vmousecancel\", event, flags );\r\n\t}\r\n\r\n\ttriggerVirtualEvent( \"vmousemove\", event, flags );\r\n\tstartResetTimer();\r\n}\r\n\r\nfunction handleTouchEnd( event ) {\r\n\tif ( blockTouchTriggers ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tdisableTouchBindings();\r\n\r\n\tvar flags = getVirtualBindingFlags( event.target ),\r\n\t\tve, t;\r\n\ttriggerVirtualEvent( \"vmouseup\", event, flags );\r\n\r\n\tif ( !didScroll ) {\r\n\t\tve = triggerVirtualEvent( \"vclick\", event, flags );\r\n\t\tif ( ve && ve.isDefaultPrevented() ) {\r\n\t\t\t// The target of the mouse events that follow the touchend\r\n\t\t\t// event don't necessarily match the target used during the\r\n\t\t\t// touch. This means we need to rely on coordinates for blocking\r\n\t\t\t// any click that is generated.\r\n\t\t\tt = getNativeEvent( event ).changedTouches[ 0 ];\r\n\t\t\tclickBlockList.push({\r\n\t\t\t\ttouchID: lastTouchID,\r\n\t\t\t\tx: t.clientX,\r\n\t\t\t\ty: t.clientY\r\n\t\t\t});\r\n\r\n\t\t\t// Prevent any mouse events that follow from triggering\r\n\t\t\t// virtual event notifications.\r\n\t\t\tblockMouseTriggers = true;\r\n\t\t}\r\n\t}\r\n\ttriggerVirtualEvent( \"vmouseout\", event, flags);\r\n\tdidScroll = false;\r\n\r\n\tstartResetTimer();\r\n}\r\n\r\nfunction hasVirtualBindings( ele ) {\r\n\tvar bindings = $.data( ele, dataPropertyName ),\r\n\t\tk;\r\n\r\n\tif ( bindings ) {\r\n\t\tfor ( k in bindings ) {\r\n\t\t\tif ( bindings[ k ] ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction dummyMouseHandler() {}\r\n\r\nfunction getSpecialEventObject( eventType ) {\r\n\tvar realType = eventType.substr( 1 );\r\n\r\n\treturn {\r\n\t\tsetup: function(/* data, namespace */) {\r\n\t\t\t// If this is the first virtual mouse binding for this element,\r\n\t\t\t// add a bindings object to its data.\r\n\r\n\t\t\tif ( !hasVirtualBindings( this ) ) {\r\n\t\t\t\t$.data( this, dataPropertyName, {} );\r\n\t\t\t}\r\n\r\n\t\t\t// If setup is called, we know it is the first binding for this\r\n\t\t\t// eventType, so initialize the count for the eventType to zero.\r\n\t\t\tvar bindings = $.data( this, dataPropertyName );\r\n\t\t\tbindings[ eventType ] = true;\r\n\r\n\t\t\t// If this is the first virtual mouse event for this type,\r\n\t\t\t// register a global handler on the document.\r\n\r\n\t\t\tactiveDocHandlers[ eventType ] = ( activeDocHandlers[ eventType ] || 0 ) + 1;\r\n\r\n\t\t\tif ( activeDocHandlers[ eventType ] === 1 ) {\r\n\t\t\t\t$document.bind( realType, mouseEventCallback );\r\n\t\t\t}\r\n\r\n\t\t\t// Some browsers, like Opera Mini, won't dispatch mouse/click events\r\n\t\t\t// for elements unless they actually have handlers registered on them.\r\n\t\t\t// To get around this, we register dummy handlers on the elements.\r\n\r\n\t\t\t$( this ).bind( realType, dummyMouseHandler );\r\n\r\n\t\t\t// For now, if event capture is not supported, we rely on mouse handlers.\r\n\t\t\tif ( eventCaptureSupported ) {\r\n\t\t\t\t// If this is the first virtual mouse binding for the document,\r\n\t\t\t\t// register our touchstart handler on the document.\r\n\r\n\t\t\t\tactiveDocHandlers[ \"touchstart\" ] = ( activeDocHandlers[ \"touchstart\" ] || 0) + 1;\r\n\r\n\t\t\t\tif ( activeDocHandlers[ \"touchstart\" ] === 1 ) {\r\n\t\t\t\t\t$document.bind( \"touchstart\", handleTouchStart )\r\n\t\t\t\t\t\t.bind( \"touchend\", handleTouchEnd )\r\n\r\n\t\t\t\t\t\t// On touch platforms, touching the screen and then dragging your finger\r\n\t\t\t\t\t\t// causes the window content to scroll after some distance threshold is\r\n\t\t\t\t\t\t// exceeded. On these platforms, a scroll prevents a click event from being\r\n\t\t\t\t\t\t// dispatched, and on some platforms, even the touchend is suppressed. To\r\n\t\t\t\t\t\t// mimic the suppression of the click event, we need to watch for a scroll\r\n\t\t\t\t\t\t// event. Unfortunately, some platforms like iOS don't dispatch scroll\r\n\t\t\t\t\t\t// events until *AFTER* the user lifts their finger (touchend). This means\r\n\t\t\t\t\t\t// we need to watch both scroll and touchmove events to figure out whether\r\n\t\t\t\t\t\t// or not a scroll happenens before the touchend event is fired.\r\n\r\n\t\t\t\t\t\t.bind( \"touchmove\", handleTouchMove )\r\n\t\t\t\t\t\t.bind( \"scroll\", handleScroll );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tteardown: function(/* data, namespace */) {\r\n\t\t\t// If this is the last virtual binding for this eventType,\r\n\t\t\t// remove its global handler from the document.\r\n\r\n\t\t\t--activeDocHandlers[ eventType ];\r\n\r\n\t\t\tif ( !activeDocHandlers[ eventType ] ) {\r\n\t\t\t\t$document.unbind( realType, mouseEventCallback );\r\n\t\t\t}\r\n\r\n\t\t\tif ( eventCaptureSupported ) {\r\n\t\t\t\t// If this is the last virtual mouse binding in existence,\r\n\t\t\t\t// remove our document touchstart listener.\r\n\r\n\t\t\t\t--activeDocHandlers[ \"touchstart\" ];\r\n\r\n\t\t\t\tif ( !activeDocHandlers[ \"touchstart\" ] ) {\r\n\t\t\t\t\t$document.unbind( \"touchstart\", handleTouchStart )\r\n\t\t\t\t\t\t.unbind( \"touchmove\", handleTouchMove )\r\n\t\t\t\t\t\t.unbind( \"touchend\", handleTouchEnd )\r\n\t\t\t\t\t\t.unbind( \"scroll\", handleScroll );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar $this = $( this ),\r\n\t\t\t\tbindings = $.data( this, dataPropertyName );\r\n\r\n\t\t\t// teardown may be called when an element was\r\n\t\t\t// removed from the DOM. If this is the case,\r\n\t\t\t// jQuery core may have already stripped the element\r\n\t\t\t// of any data bindings so we need to check it before\r\n\t\t\t// using it.\r\n\t\t\tif ( bindings ) {\r\n\t\t\t\tbindings[ eventType ] = false;\r\n\t\t\t}\r\n\r\n\t\t\t// Unregister the dummy event handler.\r\n\r\n\t\t\t$this.unbind( realType, dummyMouseHandler );\r\n\r\n\t\t\t// If this is the last virtual mouse binding on the\r\n\t\t\t// element, remove the binding data from the element.\r\n\r\n\t\t\tif ( !hasVirtualBindings( this ) ) {\r\n\t\t\t\t$this.removeData( dataPropertyName );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Expose our custom events to the jQuery bind/unbind mechanism.\r\n\r\nfor ( i = 0; i < virtualEventNames.length; i++ ) {\r\n\t$.event.special[ virtualEventNames[ i ] ] = getSpecialEventObject( virtualEventNames[ i ] );\r\n}\r\n\r\n// Add a capture click handler to block clicks.\r\n// Note that we require event capture support for this so if the device\r\n// doesn't support it, we punt for now and rely solely on mouse events.\r\nif ( eventCaptureSupported ) {\r\n\tdocument.addEventListener( \"click\", function( e ) {\r\n\t\tvar cnt = clickBlockList.length,\r\n\t\t\ttarget = e.target,\r\n\t\t\tx, y, ele, i, o, touchID;\r\n\r\n\t\tif ( cnt ) {\r\n\t\t\tx = e.clientX;\r\n\t\t\ty = e.clientY;\r\n\t\t\tthreshold = $.vmouse.clickDistanceThreshold;\r\n\r\n\t\t\t// The idea here is to run through the clickBlockList to see if\r\n\t\t\t// the current click event is in the proximity of one of our\r\n\t\t\t// vclick events that had preventDefault() called on it. If we find\r\n\t\t\t// one, then we block the click.\r\n\t\t\t//\r\n\t\t\t// Why do we have to rely on proximity?\r\n\t\t\t//\r\n\t\t\t// Because the target of the touch event that triggered the vclick\r\n\t\t\t// can be different from the target of the click event synthesized\r\n\t\t\t// by the browser. The target of a mouse/click event that is synthesized\r\n\t\t\t// from a touch event seems to be implementation specific. For example,\r\n\t\t\t// some browsers will fire mouse/click events for a link that is near\r\n\t\t\t// a touch event, even though the target of the touchstart/touchend event\r\n\t\t\t// says the user touched outside the link. Also, it seems that with most\r\n\t\t\t// browsers, the target of the mouse/click event is not calculated until the\r\n\t\t\t// time it is dispatched, so if you replace an element that you touched\r\n\t\t\t// with another element, the target of the mouse/click will be the new\r\n\t\t\t// element underneath that point.\r\n\t\t\t//\r\n\t\t\t// Aside from proximity, we also check to see if the target and any\r\n\t\t\t// of its ancestors were the ones that blocked a click. This is necessary\r\n\t\t\t// because of the strange mouse/click target calculation done in the\r\n\t\t\t// Android 2.1 browser, where if you click on an element, and there is a\r\n\t\t\t// mouse/click handler on one of its ancestors, the target will be the\r\n\t\t\t// innermost child of the touched element, even if that child is no where\r\n\t\t\t// near the point of touch.\r\n\r\n\t\t\tele = target;\r\n\r\n\t\t\twhile ( ele ) {\r\n\t\t\t\tfor ( i = 0; i < cnt; i++ ) {\r\n\t\t\t\t\to = clickBlockList[ i ];\r\n\t\t\t\t\ttouchID = 0;\r\n\r\n\t\t\t\t\tif ( ( ele === target && Math.abs( o.x - x ) < threshold && Math.abs( o.y - y ) < threshold ) ||\r\n\t\t\t\t\t\t\t\t$.data( ele, touchTargetPropertyName ) === o.touchID ) {\r\n\t\t\t\t\t\t// XXX: We may want to consider removing matches from the block list\r\n\t\t\t\t\t\t//      instead of waiting for the reset timer to fire.\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tele = ele.parentNode;\r\n\t\t\t}\r\n\t\t}\r\n\t}, true);\r\n}\r\n})( jQuery, window, document );\r\n\r\n(function( $ ) {\r\n\t$.mobile = {};\r\n}( jQuery ));\r\n\r\n\t(function( $, undefined ) {\r\n\t\tvar support = {\r\n\t\t\ttouch: \"ontouchend\" in document\r\n\t\t};\r\n\r\n\t\t$.mobile.support = $.mobile.support || {};\r\n\t\t$.extend( $.support, support );\r\n\t\t$.extend( $.mobile.support, support );\r\n\t}( jQuery ));\r\n\r\n\r\n(function( $, window, undefined ) {\r\n\tvar $document = $( document ),\r\n\t\tsupportTouch = $.mobile.support.touch,\r\n\t\tscrollEvent = \"touchmove scroll\",\r\n\t\ttouchStartEvent = supportTouch ? \"touchstart\" : \"mousedown\",\r\n\t\ttouchStopEvent = supportTouch ? \"touchend\" : \"mouseup\",\r\n\t\ttouchMoveEvent = supportTouch ? \"touchmove\" : \"mousemove\";\r\n\r\n\t// setup new event shortcuts\r\n\t$.each( ( \"touchstart touchmove touchend \" +\r\n\t\t\"tap taphold \" +\r\n\t\t\"swipe swipeleft swiperight \" +\r\n\t\t\"scrollstart scrollstop\" ).split( \" \" ), function( i, name ) {\r\n\r\n\t\t$.fn[ name ] = function( fn ) {\r\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\r\n\t\t};\r\n\r\n\t\t// jQuery < 1.8\r\n\t\tif ( $.attrFn ) {\r\n\t\t\t$.attrFn[ name ] = true;\r\n\t\t}\r\n\t});\r\n\r\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\r\n\t\tvar originalType = event.type;\r\n\t\tevent.type = eventType;\r\n\t\tif ( bubble ) {\r\n\t\t\t$.event.trigger( event, undefined, obj );\r\n\t\t} else {\r\n\t\t\t$.event.dispatch.call( obj, event );\r\n\t\t}\r\n\t\tevent.type = originalType;\r\n\t}\r\n\r\n\t// also handles scrollstop\r\n\t$.event.special.scrollstart = {\r\n\r\n\t\tenabled: true,\r\n\t\tsetup: function() {\r\n\r\n\t\t\tvar thisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tscrolling,\r\n\t\t\t\ttimer;\r\n\r\n\t\t\tfunction trigger( event, state ) {\r\n\t\t\t\tscrolling = state;\r\n\t\t\t\ttriggerCustomEvent( thisObject, scrolling ? \"scrollstart\" : \"scrollstop\", event );\r\n\t\t\t}\r\n\r\n\t\t\t// iPhone triggers scroll after a small delay; use touchmove instead\r\n\t\t\t$this.bind( scrollEvent, function( event ) {\r\n\r\n\t\t\t\tif ( !$.event.special.scrollstart.enabled ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !scrolling ) {\r\n\t\t\t\t\ttrigger( event, true );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearTimeout( timer );\r\n\t\t\t\ttimer = setTimeout( function() {\r\n\t\t\t\t\ttrigger( event, false );\r\n\t\t\t\t}, 50 );\r\n\t\t\t});\r\n\t\t},\r\n\t\tteardown: function() {\r\n\t\t\t$( this ).unbind( scrollEvent );\r\n\t\t}\r\n\t};\r\n\r\n\t// also handles taphold\r\n\t$.event.special.tap = {\r\n\t\ttapholdThreshold: 750,\r\n\t\temitTapOnTaphold: true,\r\n\t\tsetup: function() {\r\n\t\t\tvar thisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tisTaphold = false;\r\n\r\n\t\t\t$this.bind( \"vmousedown\", function( event ) {\r\n\t\t\t\tisTaphold = false;\r\n\t\t\t\tif ( event.which && event.which !== 1 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar origTarget = event.target,\r\n\t\t\t\t\ttimer;\r\n\r\n\t\t\t\tfunction clearTapTimer() {\r\n\t\t\t\t\tclearTimeout( timer );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction clearTapHandlers() {\r\n\t\t\t\t\tclearTapTimer();\r\n\r\n\t\t\t\t\t$this.unbind( \"vclick\", clickHandler )\r\n\t\t\t\t\t\t.unbind( \"vmouseup\", clearTapTimer );\r\n\t\t\t\t\t$document.unbind( \"vmousecancel\", clearTapHandlers );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction clickHandler( event ) {\r\n\t\t\t\t\tclearTapHandlers();\r\n\r\n\t\t\t\t\t// ONLY trigger a 'tap' event if the start target is\r\n\t\t\t\t\t// the same as the stop target.\r\n\t\t\t\t\tif ( !isTaphold && origTarget === event.target ) {\r\n\t\t\t\t\t\ttriggerCustomEvent( thisObject, \"tap\", event );\r\n\t\t\t\t\t} else if ( isTaphold ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$this.bind( \"vmouseup\", clearTapTimer )\r\n\t\t\t\t\t.bind( \"vclick\", clickHandler );\r\n\t\t\t\t$document.bind( \"vmousecancel\", clearTapHandlers );\r\n\r\n\t\t\t\ttimer = setTimeout( function() {\r\n\t\t\t\t\tif ( !$.event.special.tap.emitTapOnTaphold ) {\r\n\t\t\t\t\t\tisTaphold = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttriggerCustomEvent( thisObject, \"taphold\", $.Event( \"taphold\", { target: origTarget } ) );\r\n\t\t\t\t}, $.event.special.tap.tapholdThreshold );\r\n\t\t\t});\r\n\t\t},\r\n\t\tteardown: function() {\r\n\t\t\t$( this ).unbind( \"vmousedown\" ).unbind( \"vclick\" ).unbind( \"vmouseup\" );\r\n\t\t\t$document.unbind( \"vmousecancel\" );\r\n\t\t}\r\n\t};\r\n\r\n\t// Also handles swipeleft, swiperight\r\n\t$.event.special.swipe = {\r\n\r\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\r\n\t\tscrollSupressionThreshold: 30,\r\n\r\n\t\t// More time than this, and it isn't a swipe.\r\n\t\tdurationThreshold: 1000,\r\n\r\n\t\t// Swipe horizontal displacement must be more than this.\r\n\t\thorizontalDistanceThreshold: 30,\r\n\r\n\t\t// Swipe vertical displacement must be less than this.\r\n\t\tverticalDistanceThreshold: 30,\r\n\r\n\t\tgetLocation: function ( event ) {\r\n\t\t\tvar winPageX = window.pageXOffset,\r\n\t\t\t\twinPageY = window.pageYOffset,\r\n\t\t\t\tx = event.clientX,\r\n\t\t\t\ty = event.clientY;\r\n\r\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\r\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\r\n\r\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\r\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\r\n\t\t\t\tx = x - winPageX;\r\n\t\t\t\ty = y - winPageY;\r\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\r\n\r\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\r\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\r\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\r\n\t\t\t\tx = event.pageX - winPageX;\r\n\t\t\t\ty = event.pageY - winPageY;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tstart: function( event ) {\r\n\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\r\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\r\n\t\t\treturn {\r\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\r\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\r\n\t\t\t\t\t\torigin: $( event.target )\r\n\t\t\t\t\t};\r\n\t\t},\r\n\r\n\t\tstop: function( event ) {\r\n\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\r\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\r\n\t\t\treturn {\r\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\r\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\r\n\t\t\t\t\t};\r\n\t\t},\r\n\r\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\r\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\r\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\r\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\r\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\r\n\r\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\r\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t// This serves as a flag to ensure that at most one swipe event event is\r\n\t\t// in work at any given time\r\n\t\teventInProgress: false,\r\n\r\n\t\tsetup: function() {\r\n\t\t\tvar events,\r\n\t\t\t\tthisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tcontext = {};\r\n\r\n\t\t\t// Retrieve the events data for this element and add the swipe context\r\n\t\t\tevents = $.data( this, \"mobile-events\" );\r\n\t\t\tif ( !events ) {\r\n\t\t\t\tevents = { length: 0 };\r\n\t\t\t\t$.data( this, \"mobile-events\", events );\r\n\t\t\t}\r\n\t\t\tevents.length++;\r\n\t\t\tevents.swipe = context;\r\n\r\n\t\t\tcontext.start = function( event ) {\r\n\r\n\t\t\t\t// Bail if we're already working on a swipe event\r\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\r\n\r\n\t\t\t\tvar stop,\r\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\r\n\t\t\t\t\torigTarget = event.target,\r\n\t\t\t\t\temitted = false;\r\n\r\n\t\t\t\tcontext.move = function( event ) {\r\n\t\t\t\t\tif ( !start || event.isDefaultPrevented() ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\r\n\t\t\t\t\tif ( !emitted ) {\r\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\r\n\t\t\t\t\t\tif ( emitted ) {\r\n\r\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\r\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// prevent scrolling\r\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tcontext.stop = function() {\r\n\t\t\t\t\t\temitted = true;\r\n\r\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\r\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\r\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\r\n\t\t\t\t\t\tcontext.move = null;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$document.on( touchMoveEvent, context.move )\r\n\t\t\t\t\t.one( touchStopEvent, context.stop );\r\n\t\t\t};\r\n\t\t\t$this.on( touchStartEvent, context.start );\r\n\t\t},\r\n\r\n\t\tteardown: function() {\r\n\t\t\tvar events, context;\r\n\r\n\t\t\tevents = $.data( this, \"mobile-events\" );\r\n\t\t\tif ( events ) {\r\n\t\t\t\tcontext = events.swipe;\r\n\t\t\t\tdelete events.swipe;\r\n\t\t\t\tevents.length--;\r\n\t\t\t\tif ( events.length === 0 ) {\r\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( context ) {\r\n\t\t\t\tif ( context.start ) {\r\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\r\n\t\t\t\t}\r\n\t\t\t\tif ( context.move ) {\r\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\r\n\t\t\t\t}\r\n\t\t\t\tif ( context.stop ) {\r\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t$.each({\r\n\t\tscrollstop: \"scrollstart\",\r\n\t\ttaphold: \"tap\",\r\n\t\tswipeleft: \"swipe.left\",\r\n\t\tswiperight: \"swipe.right\"\r\n\t}, function( event, sourceEvent ) {\r\n\r\n\t\t$.event.special[ event ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\t$( this ).unbind( sourceEvent );\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n})( jQuery, this );\r\n\r\n\r\n}));\r\n","/*!\r\n *\r\n *  Web Starter Kit\r\n *  Copyright 2015 Google Inc. All rights reserved.\r\n *\r\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\r\n *  you may not use this file except in compliance with the License.\r\n *  You may obtain a copy of the License at\r\n *\r\n *    https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n *  Unless required by applicable law or agreed to in writing, software\r\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\r\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *  See the License for the specific language governing permissions and\r\n *  limitations under the License\r\n *\r\n */\r\n/* eslint-env browser */\r\n/* eslint linebreak-style: [1, \"windows\"] */\r\n(function() {\r\n  'use strict';\r\n\r\n  // Check to make sure service workers are supported in the current browser,\r\n  // and that the current page is accessed from a secure origin. Using a\r\n  // service worker from an insecure origin will trigger JS console errors. See\r\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\r\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n  );\r\n\r\n  if ('serviceWorker' in navigator &&\r\n    (window.location.protocol === 'https:' || isLocalhost)) {\r\n    navigator.serviceWorker.register('service-worker.js')\r\n      .then(function(registration) {\r\n        // updatefound is fired if service-worker.js changes.\r\n        registration.onupdatefound = function() {\r\n          // updatefound is also fired the very first time the SW is installed,\r\n          // and there's no need to prompt for a reload at that point.\r\n          // So check here to see if the page is already controlled,\r\n          // i.e. whether there's an existing service worker.\r\n          if (navigator.serviceWorker.controller) {\r\n            // The updatefound event implies that registration.installing is set:\r\n            // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\r\n            var installingWorker = registration.installing;\r\n\r\n            installingWorker.onstatechange = function() {\r\n              switch (installingWorker.state) {\r\n                case 'installed':\r\n                  // At this point, the old content will have been purged and the\r\n                  // fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in the page's interface.\r\n                  break;\r\n\r\n                case 'redundant':\r\n                  throw new Error('The installing ' +\r\n                    'service worker became redundant.');\r\n\r\n                default:\r\n                // Ignore\r\n              }\r\n            };\r\n          }\r\n        };\r\n      }).catch(function(e) {\r\n        console.error('Error during service worker registration:', e);\r\n      });\r\n  }\r\n\r\n  // Your custom JavaScript goes here\r\n  /* eslint-env jquery */\r\n  $('.button--read-more').click(function() {\r\n    $(this).text($(this).text() === 'Read more' ? 'Hide' : 'Read more');\r\n    $(this).closest('.mdl-card').find('.hidden-text').toggle('fast');\r\n  });\r\n  document.querySelector('#spanish-bar')\r\n    .addEventListener('mdl-componentupgraded', function() {\r\n      this.MaterialProgress.setProgress(100);\r\n    });\r\n  document.querySelector('#english-bar')\r\n    .addEventListener('mdl-componentupgraded', function() {\r\n      this.MaterialProgress.setProgress(99);\r\n    });\r\n  document.querySelector('#polish-bar')\r\n    .addEventListener('mdl-componentupgraded', function() {\r\n      this.MaterialProgress.setProgress(55);\r\n      this.MaterialProgress.setBuffer(60);\r\n    });\r\n  document.querySelector('#german-bar')\r\n    .addEventListener('mdl-componentupgraded', function() {\r\n      this.MaterialProgress.setProgress(30);\r\n    });\r\n\r\n  var showPlayButton = function() {\r\n    $('#add').removeClass('hidden');\r\n  };\r\n\r\n  setTimeout(showPlayButton, 30000);\r\n\r\n  $(document).ready(function() {\r\n    console.log('Document ready!');\r\n    $('.mdl-layout__content').on('swiperight', function() {\r\n      console.log('Swipe right detected!');\r\n    });\r\n    $('.mdl-layout__content').on('swipeleft', function() {\r\n      console.log('Swipe left detected!');\r\n    });\r\n  });\r\n})();\r\n","// ==ClosureCompiler==\r\n// @compilation_level SIMPLE_OPTIMIZATIONS\r\n// @output_file_name bug-min.js\r\n// ==/ClosureCompiler==\r\n/**\r\n * @preserve Bug.js - https://github.com/Auz/Bug\r\n * Released under MIT-style license.\r\n * Original Screen Bug http://screen-bug.googlecode.com/git/index.html\r\n */\r\n/**\r\n * Bug.js - Add bugs to your page\r\n *\r\n * https://github.com/Auz/Bug\r\n *\r\n * license: MIT-style license.\r\n * copyright: Copyright (c) 2016 Graham McNicoll\r\n *\r\n *\r\n * Created for an aprils fool joke at Education.com 2013. I knew there was probably a script\r\n * that did it already, and there was: http://screen-bug.googlecode.com/git/index.html.\r\n * I used this as the starting point and heavily modified it, used sprite image animation,\r\n * and added many new features.\r\n *\r\n *\r\n * Original Screen Bug http://screen-bug.googlecode.com/git/index.html\r\n * Copyright 2011 Kernc (kerncece ^_^ gmail)\r\n * Released under WTFPL license.\r\n *\r\n */\r\n\"use strict\";\r\n\r\n\r\nvar BugDispatch = {\r\n\r\n    options: {\r\n        minDelay: 500,\r\n        maxDelay: 10000,\r\n        minBugs: 1,\r\n        maxBugs: 1,\r\n        minSpeed: 5,\r\n        maxSpeed: 10,\r\n        maxLargeTurnDeg: 150,\r\n        maxSmallTurnDeg: 10,\r\n        maxWiggleDeg: 5,\r\n        imageSprite: 'images/fly-sprite.png',\r\n        bugWidth: 13,\r\n        bugHeight: 14,\r\n        num_frames: 5,\r\n        zoom: 10, // random zoom variation from 1 to 10 - 10 being full size.\r\n        canFly: true,\r\n        canDie: true,\r\n        numDeathTypes: 3,\r\n        monitorMouseMovement: false,\r\n        eventDistanceToBug: 40,\r\n        minTimeBetweenMultipy: 1000,\r\n        mouseOver: 'die' // can be 'fly', 'flyoff' (if the bug can fly), die', 'multiply', 'nothing' or 'random'\r\n    },\r\n\r\n    initialize: function(options) {\r\n\r\n        this.options = mergeOptions(this.options, options);\r\n\r\n        // sanity check:\r\n        if (this.options.minBugs > this.options.maxBugs) {\r\n            this.options.minBugs = this.options.maxBugs;\r\n        }\r\n\r\n        this.modes = ['multiply', 'nothing'];\r\n\r\n        if (this.options.canFly) {\r\n            this.modes.push('fly', 'flyoff');\r\n        }\r\n        if (this.options.canDie) {\r\n            this.modes.push('die');\r\n        }\r\n\r\n        if (this.modes.indexOf(this.options.mouseOver) == -1) {\r\n            // invalid mode: use random:\r\n            this.options.mouseOver = 'random';\r\n        }\r\n\r\n        // can we transform?\r\n        this.transform = null;\r\n\r\n        this.transforms = {\r\n            'Moz': function(s) {\r\n                this.bug.style.MozTransform = s;\r\n            },\r\n            'webkit': function(s) {\r\n                this.bug.style.webkitTransform = s;\r\n            },\r\n            'O': function(s) {\r\n                this.bug.style.OTransform = s;\r\n            },\r\n            'ms': function(s) {\r\n                this.bug.style.msTransform = s;\r\n            },\r\n            'Khtml': function(s) {\r\n                this.bug.style.KhtmlTransform = s;\r\n            },\r\n            'w3c': function(s) {\r\n                this.bug.style.transform = s;\r\n            }\r\n        };\r\n\r\n\r\n        // check to see if it is a modern browser:\r\n\r\n        if ('transform' in document.documentElement.style) {\r\n            this.transform = this.transforms.w3c;\r\n        } else {\r\n\r\n            // feature detection for the other transforms:\r\n            var vendors = ['Moz', 'webkit', 'O', 'ms', 'Khtml'],\r\n                i = 0;\r\n\r\n            for (i = 0; i < vendors.length; i++) {\r\n                if (vendors[i] + 'Transform' in document.documentElement.style) {\r\n                    this.transform = this.transforms[vendors[i]];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // dont support transforms... quit\r\n        if (!this.transform) return;\r\n\r\n        // make bugs:\r\n        this.bugs = [];\r\n        var numBugs = (this.options.mouseOver === 'multiply') ? this.options.minBugs : this.random(this.options.minBugs, this.options.maxBugs, true),\r\n            i = 0,\r\n            that = this;\r\n\r\n        for (i = 0; i < numBugs; i++) {\r\n            var options = JSON.parse(JSON.stringify(this.options)),\r\n                b = SpawnBug();\r\n\r\n            options.wingsOpen = (this.options.canFly) ? ((Math.random() > 0.5) ? true : false) : true,\r\n                options.walkSpeed = this.random(this.options.minSpeed, this.options.maxSpeed),\r\n\r\n                b.initialize(this.transform, options);\r\n            this.bugs.push(b);\r\n        }\r\n\r\n        // fly them in staggered:\r\n        this.spawnDelay = [];\r\n        for (i = 0; i < numBugs; i++) {\r\n            var delay = this.random(this.options.minDelay, this.options.maxDelay, true),\r\n                thebug = this.bugs[i];\r\n            // fly the bug onto the page:\r\n            this.spawnDelay[i] = setTimeout((function(thebug) {\r\n                return function() {\r\n                    if (that.options.canFly) {\r\n                        thebug.flyIn();\r\n                    } else {\r\n                        thebug.walkIn();\r\n                    }\r\n\r\n                };\r\n            }(thebug)), delay);\r\n\r\n            // add mouse over events:\r\n            that.add_events_to_bug(thebug);\r\n        }\r\n\r\n        // add window event if required:\r\n        if (this.options.monitorMouseMovement) {\r\n            window.onmousemove = function() {\r\n                that.check_if_mouse_close_to_bug();\r\n            };\r\n        }\r\n\r\n    },\r\n\r\n    stop: function() {\r\n        for (var i = 0; i < this.bugs.length; i++) {\r\n            if(this.spawnDelay[i]) clearTimeout(this.spawnDelay[i]);\r\n            this.bugs[i].stop();\r\n        }\r\n    },\r\n\r\n    end: function() {\r\n        for (var i = 0; i < this.bugs.length; i++) {\r\n        \tif(this.spawnDelay[i]) clearTimeout(this.spawnDelay[i]);\r\n            this.bugs[i].stop();\r\n            this.bugs[i].remove();\r\n        }\r\n    },\r\n\r\n    reset: function() {\r\n        this.stop();\r\n        for (var i = 0; i < this.bugs.length; i++) {\r\n            this.bugs[i].reset();\r\n            this.bugs[i].walkIn();\r\n        }\r\n    },\r\n\r\n    killAll: function() {\r\n        for (var i = 0; i < this.bugs.length; i++) {\r\n        \tif(this.spawnDelay[i]) clearTimeout(this.spawnDelay[i]);\r\n            this.bugs[i].die();\r\n        }\r\n    },\r\n\r\n    add_events_to_bug: function(thebug) {\r\n        var that = this;\r\n        if (thebug.bug) {\r\n            if (thebug.bug.addEventListener) {\r\n                thebug.bug.addEventListener('mouseover', function(e) {\r\n                    that.on_bug(thebug);\r\n                });\r\n            } else if (thebug.bug.attachEvent) {\r\n                thebug.bug.attachEvent('onmouseover', function(e) {\r\n                    that.on_bug(thebug);\r\n                });\r\n            }\r\n        }\r\n    },\r\n\r\n    check_if_mouse_close_to_bug: function(e) {\r\n        e = e || window.event;\r\n        if (!e) {\r\n            return;\r\n        }\r\n\r\n        var posx = 0,\r\n            posy = 0;\r\n        if (e.client && e.client.x) {\r\n            posx = e.client.x;\r\n            posy = e.client.y;\r\n        } else if (e.clientX) {\r\n            posx = e.clientX;\r\n            posy = e.clientY;\r\n        } else if (e.page && e.page.x) {\r\n            posx = e.page.x - (document.body.scrollLeft + document.documentElement.scrollLeft);\r\n            posy = e.page.y - (document.body.scrollTop + document.documentElement.scrollTop);\r\n        } else if (e.pageX) {\r\n            posx = e.pageX - (document.body.scrollLeft + document.documentElement.scrollLeft);\r\n            posy = e.pageY - (document.body.scrollTop + document.documentElement.scrollTop);\r\n        }\r\n        var numBugs = this.bugs.length,\r\n            i = 0;\r\n        for (i = 0; i < numBugs; i++) {\r\n            var pos = this.bugs[i].getPos();\r\n            if (pos) {\r\n                if (Math.abs(pos.top - posy) + Math.abs(pos.left - posx) < this.options.eventDistanceToBug && !this.bugs[i].flyperiodical) {\r\n                    this.near_bug(this.bugs[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n    near_bug: function(bug) {\r\n        this.on_bug(bug);\r\n    },\r\n\r\n    on_bug: function(bug) {\r\n        if (!bug.alive) {\r\n            return;\r\n        }\r\n\r\n        var mode = this.options.mouseOver;\r\n\r\n        if (mode === 'random') {\r\n            mode = this.modes[(this.random(0, (this.modes.length - 1), true))];\r\n        }\r\n\r\n        if (mode === 'fly') {\r\n            // fly away!\r\n            bug.stop();\r\n            bug.flyRand();\r\n        } else if (mode === 'nothing') {\r\n            return;\r\n        } else if (mode === 'flyoff') {\r\n            // fly away and off the page\r\n            bug.stop();\r\n            bug.flyOff();\r\n        } else if (mode === 'die') {\r\n            // drop dead!\r\n            bug.die();\r\n        } else if (mode === 'multiply') {\r\n            if (!this.multiplyDelay && this.bugs.length < this.options.maxBugs) {\r\n                // spawn another: \r\n                // create new bug:\r\n                var b = SpawnBug(),\r\n                    options = JSON.parse(JSON.stringify(this.options)),\r\n                    pos = bug.getPos(),\r\n                    that = this;\r\n\r\n                options.wingsOpen = (this.options.canFly) ? ((Math.random() > 0.5) ? true : false) : true;\r\n                options.walkSpeed = this.random(this.options.minSpeed, this.options.maxSpeed);\r\n\r\n                b.initialize(this.transform, options);\r\n                b.drawBug(pos.top, pos.left);\r\n                // fly them both away:\r\n                if (options.canFly) {\r\n                    b.flyRand();\r\n                    bug.flyRand();\r\n                } else {\r\n                    b.go();\r\n                    bug.go();\r\n                }\r\n                // store new bug:\r\n                this.bugs.push(b);\r\n                // watch out for spawning too quickly:\r\n                this.multiplyDelay = true;\r\n                setTimeout(function() {\r\n                    // add event to this bug:\r\n                    that.add_events_to_bug(b);\r\n                    that.multiplyDelay = false;\r\n                }, this.options.minTimeBetweenMultipy);\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    random: function(min, max, round) {\r\n        if (min == max) return ((round) ? Math.round(min) : min);\r\n\r\n        var result = ((min - 0.5) + (Math.random() * (max - min + 1)));\r\n        if (result > max) {\r\n            result = max;\r\n        } else if (result < min) {\r\n            result = min;\r\n        }\r\n        return ((round) ? Math.round(result) : result);\r\n    }\r\n\r\n\r\n};\r\n\r\nvar BugController = function() {\r\n    this.initialize.apply(this, arguments);\r\n}\r\nBugController.prototype = BugDispatch;\r\n\r\nvar SpiderController = function() {\r\n    var spiderOptions = {\r\n        imageSprite: 'spider-sprite.png',\r\n        bugWidth: 69,\r\n        bugHeight: 90,\r\n        num_frames: 7,\r\n        canFly: false,\r\n        canDie: true,\r\n        numDeathTypes: 2,\r\n        zoom: 6,\r\n        minDelay: 200,\r\n        maxDelay: 3000,\r\n        minSpeed: 6,\r\n        maxSpeed: 13,\r\n        minBugs: 3,\r\n        maxBugs: 10\r\n    };\r\n    this.options = mergeOptions(this.options, spiderOptions);\r\n    this.initialize.apply(this, arguments);\r\n\r\n}\r\nSpiderController.prototype = BugDispatch;\r\n\r\n/***************/\r\n/**    Bug    **/\r\n/***************/\r\n\r\nvar Bug = {\r\n\r\n    options: {\r\n        wingsOpen: false,\r\n        walkSpeed: 2,\r\n        flySpeed: 40,\r\n        edge_resistance: 50,\r\n        zoom: 10\r\n\r\n    },\r\n\r\n    initialize: function(transform, options) {\r\n\r\n        this.options = mergeOptions(this.options, options);\r\n\r\n        this.NEAR_TOP_EDGE = 1;\r\n        this.NEAR_BOTTOM_EDGE = 2;\r\n        this.NEAR_LEFT_EDGE = 4;\r\n        this.NEAR_RIGHT_EDGE = 8;\r\n        this.directions = {}; // 0 degrees starts on the East\r\n        this.directions[this.NEAR_TOP_EDGE] = 270;\r\n        this.directions[this.NEAR_BOTTOM_EDGE] = 90;\r\n        this.directions[this.NEAR_LEFT_EDGE] = 0;\r\n        this.directions[this.NEAR_RIGHT_EDGE] = 180;\r\n        this.directions[this.NEAR_TOP_EDGE + this.NEAR_LEFT_EDGE] = 315;\r\n        this.directions[this.NEAR_TOP_EDGE + this.NEAR_RIGHT_EDGE] = 225;\r\n        this.directions[this.NEAR_BOTTOM_EDGE + this.NEAR_LEFT_EDGE] = 45;\r\n        this.directions[this.NEAR_BOTTOM_EDGE + this.NEAR_RIGHT_EDGE] = 135;\r\n\r\n        this.angle_deg = 0;\r\n        this.angle_rad = 0;\r\n        this.large_turn_angle_deg = 0;\r\n        this.near_edge = false;\r\n        this.edge_test_counter = 10;\r\n        this.small_turn_counter = 0;\r\n        this.large_turn_counter = 0;\r\n        this.fly_counter = 0;\r\n        this.toggle_stationary_counter = Math.random() * 50;\r\n        this.zoom = this.random(this.options.zoom, 10) / 10;\r\n\r\n        this.stationary = false;\r\n        this.bug = null;\r\n        this.active = true;\r\n        this.wingsOpen = this.options.wingsOpen;\r\n        this.transform = transform;\r\n        this.walkIndex = 0;\r\n        this.flyIndex = 0;\r\n        this.alive = true;\r\n        this.twitchTimer = null;\r\n\r\n        this.rad2deg_k = 180 / Math.PI;\r\n        this.deg2rad_k = Math.PI / 180;\r\n\r\n        this.makeBug();\r\n\r\n        this.angle_rad = this.deg2rad(this.angle_deg);\r\n\r\n        this.angle_deg = this.random(0, 360, true);\r\n\r\n    },\r\n\r\n    go: function() {\r\n        if (this.transform) {\r\n            this.drawBug();\r\n            var that = this;\r\n\r\n            this.animating = true;\r\n\r\n            this.going = requestAnimFrame(function(t) {\r\n                that.animate(t);\r\n            });\r\n        }\r\n    },\r\n\r\n    stop: function() {\r\n        this.animating = false;\r\n        if (this.going) {\r\n            clearTimeout(this.going);\r\n            this.going = null;\r\n        }\r\n        if (this.flyperiodical) {\r\n            clearTimeout(this.flyperiodical);\r\n            this.flyperiodical = null;\r\n        }\r\n        if (this.twitchTimer) {\r\n            clearTimeout(this.twitchTimer);\r\n            this.twitchTimer = null;\r\n        }\r\n    },\r\n\r\n    remove: function() {\r\n    \tthis.active = false;\r\n        if (this.inserted && this.bug.parentNode) {\r\n            this.bug.parentNode.removeChild(this.bug);\r\n            this.inserted = false;\r\n        }\r\n    },\r\n\r\n    reset: function() {\r\n        this.alive = true;\r\n        this.active = true;\r\n        this.bug.style.bottom = '';\r\n        this.bug.style.top = 0;\r\n        this.bug.style.left = 0;\r\n    },\r\n\r\n    animate: function(t) {\r\n\r\n        if (!this.animating || !this.alive || !this.active) return;\r\n\r\n        var that = this;\r\n        this.going = requestAnimFrame(function(t) {\r\n            that.animate(t);\r\n        });\r\n\r\n        if (!('_lastTimestamp' in this)) this._lastTimestamp = t;\r\n\r\n        var delta = t - this._lastTimestamp;\r\n\r\n        if (delta < 40) return; // don't animate too frequently\r\n\r\n        // sometimes if the browser doesnt have focus, or the delta in request animation \r\n        // frame can be very large. We set a sensible max so that the bugs dont spaz out.\r\n\r\n        if (delta > 200) delta = 200;\r\n\r\n        this._lastTimestamp = t;\r\n\r\n        if (--this.toggle_stationary_counter <= 0) {\r\n            this.toggleStationary();\r\n        }\r\n        if (this.stationary) {\r\n            return;\r\n        }\r\n\r\n\r\n        if (--this.edge_test_counter <= 0 && this.bug_near_window_edge()) {\r\n            // if near edge, go away from edge\r\n            this.angle_deg %= 360;\r\n            if (this.angle_deg < 0) this.angle_deg += 360;\r\n\r\n            if (Math.abs(this.directions[this.near_edge] - this.angle_deg) > 15) {\r\n                var angle1 = this.directions[this.near_edge] - this.angle_deg;\r\n                var angle2 = (360 - this.angle_deg) + this.directions[this.near_edge];\r\n                this.large_turn_angle_deg = (Math.abs(angle1) < Math.abs(angle2) ? angle1 : angle2);\r\n\r\n                this.edge_test_counter = 10;\r\n                this.large_turn_counter = 100;\r\n                this.small_turn_counter = 30;\r\n            }\r\n        }\r\n        if (--this.large_turn_counter <= 0) {\r\n            this.large_turn_angle_deg = this.random(1, this.options.maxLargeTurnDeg, true);\r\n            this.next_large_turn();\r\n        }\r\n        if (--this.small_turn_counter <= 0) {\r\n            this.angle_deg += this.random(1, this.options.maxSmallTurnDeg);\r\n            this.next_small_turn();\r\n        } else {\r\n            var dangle = this.random(1, this.options.maxWiggleDeg, true);\r\n            if ((this.large_turn_angle_deg > 0 && dangle < 0) || (this.large_turn_angle_deg < 0 && dangle > 0)) {\r\n                dangle = -dangle; // ensures both values either + or -\r\n            }\r\n            this.large_turn_angle_deg -= dangle;\r\n            this.angle_deg += dangle;\r\n        }\r\n\r\n        this.angle_rad = this.deg2rad(this.angle_deg);\r\n\r\n        var dx = Math.cos(this.angle_rad) * this.options.walkSpeed * (delta / 100);\r\n        var dy = -Math.sin(this.angle_rad) * this.options.walkSpeed * (delta / 100);\r\n\r\n        this.moveBug((this.bug.left + dx), (this.bug.top + dy), (90 - this.angle_deg));\r\n        this.walkFrame();\r\n\r\n    },\r\n\r\n    makeBug: function() {\r\n        if (!this.bug && this.active) {\r\n            var row = (this.wingsOpen) ? '0' : '-' + this.options.bugHeight + 'px',\r\n                bug = document.createElement('div');\r\n            bug.className = 'bug';\r\n            bug.style.background = 'transparent url(' + this.options.imageSprite + ') no-repeat 0 ' + row;\r\n            bug.style.width = this.options.bugWidth + 'px';\r\n            bug.style.height = this.options.bugHeight + 'px';\r\n            bug.style.position = 'fixed';\r\n            bug.style.top = 0;\r\n            bug.style.left = 0;\r\n            bug.style.zIndex = '9999999';\r\n\r\n            this.bug = bug;\r\n            this.setPos();\r\n\r\n        }\r\n\r\n    },\r\n\r\n    setPos: function(top, left) {\r\n        this.bug.top = top || this.random(this.options.edge_resistance, document.documentElement.clientHeight - this.options.edge_resistance);\r\n\r\n        this.bug.left = left || this.random(this.options.edge_resistance, document.documentElement.clientWidth - this.options.edge_resistance);\r\n\r\n        this.moveBug(this.bug.left, this.bug.top, (90 - this.angle_deg));\r\n    },\r\n\r\n    moveBug: function(x, y, deg) {\r\n        // keep track of where we are:\r\n        this.bug.left = x;\r\n        this.bug.top = y;\r\n\r\n        // transform:\r\n        var trans = \"translate(\" + parseInt(x) + \"px,\" + parseInt(y) + \"px)\";\r\n        if (deg) {\r\n            //console.log(\"translate(\"+(x)+\"px, \"+(y)+\"px) rotate(\"+deg+\"deg)\");\r\n            trans += \" rotate(\" + deg + \"deg)\";\r\n        }\r\n        trans += \" scale(\" + this.zoom + \")\";\r\n\r\n        this.transform(trans);\r\n\r\n    },\r\n\r\n    drawBug: function(top, left) {\r\n\r\n        if (!this.bug) {\r\n            this.makeBug();\r\n        }\r\n        if(!this.bug) return;\r\n\r\n        if (top && left) {\r\n            this.setPos(top, left);\r\n        } else {\r\n            this.setPos(this.bug.top, this.bug.left)\r\n        }\r\n        if (!this.inserted) {\r\n            this.inserted = true;\r\n            document.body.appendChild(this.bug);\r\n        }\r\n    },\r\n\r\n    toggleStationary: function() {\r\n        this.stationary = !this.stationary;\r\n        this.next_stationary();\r\n        var ypos = (this.wingsOpen) ? '0' : '-' + this.options.bugHeight + 'px';\r\n        if (this.stationary) {\r\n\r\n            this.bug.style.backgroundPosition = '0 ' + ypos;\r\n        } else {\r\n            this.bug.style.backgroundPosition = '-' + this.options.bugWidth + 'px ' + ypos;\r\n        }\r\n    },\r\n\r\n    walkFrame: function() {\r\n        var xpos = (-1 * (this.walkIndex * this.options.bugWidth)) + 'px',\r\n            ypos = (this.wingsOpen) ? '0' : '-' + this.options.bugHeight + 'px';\r\n        this.bug.style.backgroundPosition = xpos + ' ' + ypos;\r\n        this.walkIndex++;\r\n        if (this.walkIndex >= this.options.num_frames) this.walkIndex = 0;\r\n    },\r\n\r\n    fly: function(landingPosition) {\r\n        var currentTop = this.bug.top,\r\n            currentLeft = this.bug.left,\r\n            diffx = (currentLeft - landingPosition.left),\r\n            diffy = (currentTop - landingPosition.top),\r\n            angle = Math.atan(diffy / diffx);\r\n\r\n        if (Math.abs(diffx) + Math.abs(diffy) < 50) {\r\n            this.bug.style.backgroundPosition = (-2 * this.options.bugWidth) + 'px -' + (2 * this.options.bugHeight) + 'px';\r\n        }\r\n        if (Math.abs(diffx) + Math.abs(diffy) < 30) {\r\n            this.bug.style.backgroundPosition = (-1 * this.options.bugWidth) + 'px -' + (2 * this.options.bugHeight) + 'px';\r\n        }\r\n        if (Math.abs(diffx) + Math.abs(diffy) < 10) {\r\n            // close enough:\r\n            this.bug.style.backgroundPosition = '0 0'; //+row+'px'));\r\n\r\n            this.stop();\r\n            this.go();\r\n            //this.go.delay(100, this);\r\n\r\n            return;\r\n\r\n        }\r\n\r\n        // make it wiggle: disabled becuase its just too fast to see... better would be to make its path wiggly.\r\n        //angle = angle - (this.deg2rad(this.random(0,10)));\r\n        //console.log('angle: ',this.rad2deg(angle));\r\n\r\n        var dx = Math.cos(angle) * this.options.flySpeed,\r\n            dy = Math.sin(angle) * this.options.flySpeed;\r\n\r\n        if ((currentLeft > landingPosition.left && dx > 0) || (currentLeft > landingPosition.left && dx < 0)) {\r\n            // make sure angle is right way\r\n            dx = -1 * dx;\r\n            if (Math.abs(diffx) < Math.abs(dx)) {\r\n                dx = dx / 4;\r\n            }\r\n        }\r\n        if ((currentTop < landingPosition.top && dy < 0) || (currentTop > landingPosition.top && dy > 0)) {\r\n            dy = -1 * dy;\r\n            if (Math.abs(diffy) < Math.abs(dy)) {\r\n                dy = dy / 4;\r\n            }\r\n        }\r\n\r\n        this.moveBug((currentLeft + dx), (currentTop + dy));\r\n\r\n    },\r\n\r\n    flyRand: function() {\r\n        this.stop();\r\n        var landingPosition = {};\r\n        landingPosition.top = this.random(this.options.edge_resistance, document.documentElement.clientHeight - this.options.edge_resistance);\r\n        landingPosition.left = this.random(this.options.edge_resistance, document.documentElement.clientWidth - this.options.edge_resistance);\r\n\r\n        this.startFlying(landingPosition);\r\n    },\r\n\r\n    startFlying: function(landingPosition) {\r\n\r\n        var currentTop = this.bug.top,\r\n            currentLeft = this.bug.left,\r\n            diffx = (landingPosition.left - currentLeft),\r\n            diffy = (landingPosition.top - currentTop);\r\n\r\n        this.bug.left = landingPosition.left;\r\n        this.bug.top = landingPosition.top;\r\n\r\n        this.angle_rad = Math.atan(diffy / diffx);\r\n        this.angle_deg = this.rad2deg(this.angle_rad);\r\n\r\n        if (diffx > 0) {\r\n            // going left: quadrant 1 or 2\r\n            this.angle_deg = 90 + this.angle_deg;\r\n        } else {\r\n            // going right: quadrant 3 or 4\r\n            this.angle_deg = 270 + this.angle_deg;\r\n        }\r\n\r\n        this.moveBug(currentLeft, currentTop, this.angle_deg);\r\n\r\n        // start animation:\r\n        var that = this;\r\n        this.flyperiodical = setInterval(function() {\r\n            that.fly(landingPosition);\r\n        }, 10);\r\n    },\r\n\r\n    flyIn: function() {\r\n        if (!this.bug) {\r\n            this.makeBug();\r\n        }\r\n        \r\n        if(!this.bug) return;\r\n\r\n        this.stop();\r\n        // pick a random side:\r\n        var side = Math.round(Math.random() * 4 - 0.5),\r\n            d = document,\r\n            e = d.documentElement,\r\n            g = d.getElementsByTagName('body')[0],\r\n            windowX = window.innerWidth || e.clientWidth || g.clientWidth,\r\n            windowY = window.innerHeight || e.clientHeight || g.clientHeight;\r\n        if (side > 3) side = 3;\r\n        if (side < 0) side = 0;\r\n        var style = {},\r\n            s;\r\n        if (side === 0) {\r\n            // top:\r\n            style.top = (-2 * this.options.bugHeight);\r\n            style.left = Math.random() * windowX;\r\n        } else if (side === 1) {\r\n            // right:\r\n            style.top = Math.random() * windowY;\r\n            style.left = windowX + (2 * this.options.bugWidth);\r\n        } else if (side === 2) {\r\n            // bottom:\r\n            style.top = windowY + (2 * this.options.bugHeight);\r\n            style.left = Math.random() * windowX;\r\n        } else {\r\n            // left: \r\n            style.top = Math.random() * windowY;\r\n            style.left = (-3 * this.options.bugWidth);\r\n        }\r\n        var row = (this.wingsOpen) ? '0' : '-' + this.options.bugHeight + 'px';\r\n        this.bug.style.backgroundPosition = (-3 * this.options.bugWidth) + 'px ' + row;\r\n        this.bug.top = style.top\r\n        this.bug.left = style.left\r\n\r\n        this.drawBug();\r\n\r\n        // landing position:\r\n        var landingPosition = {};\r\n        landingPosition.top = this.random(this.options.edge_resistance, document.documentElement.clientHeight - this.options.edge_resistance);\r\n        landingPosition.left = this.random(this.options.edge_resistance, document.documentElement.clientWidth - this.options.edge_resistance);\r\n\r\n        this.startFlying(landingPosition);\r\n    },\r\n\r\n    walkIn: function() {\r\n        if (!this.bug) {\r\n            this.makeBug();\r\n        }\r\n        \r\n        if(!this.bug) return;\r\n\r\n        this.stop();\r\n        // pick a random side:\r\n        var side = Math.round(Math.random() * 4 - 0.5),\r\n            d = document,\r\n            e = d.documentElement,\r\n            g = d.getElementsByTagName('body')[0],\r\n            windowX = window.innerWidth || e.clientWidth || g.clientWidth,\r\n            windowY = window.innerHeight || e.clientHeight || g.clientHeight;\r\n        if (side > 3) side = 3;\r\n        if (side < 0) side = 0;\r\n        var style = {},\r\n            s;\r\n        if (side === 0) {\r\n            // top:\r\n            style.top = (-1.3 * this.options.bugHeight);\r\n            style.left = Math.random() * windowX;\r\n        } else if (side === 1) {\r\n            // right:\r\n            style.top = Math.random() * windowY;\r\n            style.left = windowX + (0.3 * this.options.bugWidth);\r\n        } else if (side === 2) {\r\n            // bottom:\r\n            style.top = windowY + (0.3 * this.options.bugHeight);\r\n            style.left = Math.random() * windowX;\r\n        } else {\r\n            // left: \r\n            style.top = Math.random() * windowY;\r\n            style.left = (-1.3 * this.options.bugWidth);\r\n        }\r\n        var row = (this.wingsOpen) ? '0' : '-' + this.options.bugHeight + 'px';\r\n        this.bug.style.backgroundPosition = (-3 * this.options.bugWidth) + 'px ' + row;\r\n        this.bug.top = style.top\r\n        this.bug.left = style.left\r\n\r\n        this.drawBug();\r\n\r\n        // start walking:\r\n        this.go();\r\n\r\n    },\r\n\r\n    flyOff: function() {\r\n        this.stop();\r\n        // pick a random side to fly off to, where 0 is top and continuing clockwise.\r\n        var side = this.random(0, 3),\r\n            style = {},\r\n            d = document,\r\n            e = d.documentElement,\r\n            g = d.getElementsByTagName('body')[0],\r\n            windowX = window.innerWidth || e.clientWidth || g.clientWidth,\r\n            windowY = window.innerHeight || e.clientHeight || g.clientHeight;\r\n\r\n        if (side === 0) {\r\n            // top:\r\n            style.top = -200;\r\n            style.left = Math.random() * windowX;\r\n        } else if (side === 1) {\r\n            // right:\r\n            style.top = Math.random() * windowY;\r\n            style.left = windowX + 200;\r\n        } else if (side === 2) {\r\n            //bottom:\r\n            style.top = windowY + 200;\r\n            style.left = Math.random() * windowX;\r\n        } else {\r\n            // left: \r\n            style.top = Math.random() * windowY;\r\n            style.left = -200;\r\n        }\r\n        this.startFlying(style);\r\n    },\r\n\r\n    die: function() {\r\n        this.stop();\r\n        //pick death style:\r\n        var deathType = this.random(0, this.options.numDeathTypes - 1);\r\n\r\n        this.alive = false;\r\n        this.drop(deathType);\r\n    },\r\n\r\n    drop: function(deathType) {\r\n        var startPos = this.bug.top,\r\n            d = document,\r\n            e = d.documentElement,\r\n            g = d.getElementsByTagName('body')[0],\r\n            finalPos = window.innerHeight || e.clientHeight || g.clientHeight,\r\n            finalPos = finalPos - this.options.bugHeight,\r\n            rotationRate = this.random(0, 20, true),\r\n            startTime = Date.now(),\r\n            that = this;\r\n\r\n        this.dropTimer = requestAnimFrame(function(t) {\r\n            that._lastTimestamp = t;\r\n            that.dropping(t, startPos, finalPos, rotationRate, deathType);\r\n        });\r\n\r\n    },\r\n\r\n    dropping: function(t, startPos, finalPos, rotationRate, deathType) {\r\n        var elapsedTime = t - this._lastTimestamp,\r\n            deltaPos = (0.002 * (elapsedTime * elapsedTime)),\r\n            newPos = startPos + deltaPos;\r\n        //console.log(t, elapsedTime, deltaPos, newPos);\r\n\r\n        var that = this;\r\n\r\n\r\n        if (newPos >= finalPos) {\r\n            newPos = finalPos;\r\n            clearTimeout(this.dropTimer);\r\n\r\n\r\n\r\n            this.angle_deg = 0;\r\n            this.angle_rad = this.deg2rad(this.angle_deg);\r\n            this.transform(\"rotate(\" + (90 - this.angle_deg) + \"deg) scale(\" + this.zoom + \")\");\r\n            this.bug.style.top = null;\r\n            // because it is (or might be) zoomed and rotated, we cannot just just bottom = 0. Figure out real bottom position:\r\n            var rotationOffset = ((this.options.bugWidth * this.zoom) - (this.options.bugHeight * this.zoom)) / 2;\r\n            var zoomOffset = ((this.options.bugHeight) / 2) * (1 - this.zoom);\r\n            this.bug.style.bottom = Math.ceil((rotationOffset - zoomOffset)) + 'px'; // because its rotated and zoomed.\r\n            this.bug.style.left = this.bug.left + 'px';\r\n            this.bug.style.backgroundPosition = '-' + ((deathType * 2) * this.options.bugWidth) + 'px 100%';\r\n\r\n\r\n            this.twitch(deathType);\r\n\r\n            return;\r\n        }\r\n\r\n        this.dropTimer = requestAnimFrame(function(t) {\r\n            that.dropping(t, startPos, finalPos, rotationRate, deathType);\r\n        });\r\n\r\n        if (elapsedTime < 20) return;\r\n\r\n        this.angle_deg = ((this.angle_deg + rotationRate) % 360);\r\n        this.angle_rad = this.deg2rad(this.angle_deg);\r\n\r\n        this.moveBug(this.bug.left, newPos, this.angle_deg);\r\n    },\r\n\r\n    twitch: function(deathType, legPos) {\r\n        //this.bug.style.back\r\n        if (!legPos) legPos = 0;\r\n        var that = this;\r\n        if (deathType === 0 || deathType === 1) {\r\n            that.twitchTimer = setTimeout(function() {\r\n                that.bug.style.backgroundPosition = '-' + ((deathType * 2 + (legPos % 2)) * that.options.bugWidth) + 'px 100%';\r\n                that.twitchTimer = setTimeout(function() {\r\n                    legPos++;\r\n                    that.bug.style.backgroundPosition = '-' + ((deathType * 2 + (legPos % 2)) * that.options.bugWidth) + 'px 100%';\r\n                    that.twitch(deathType, ++legPos);\r\n                }, that.random(300, 800));\r\n            }, this.random(1000, 10000));\r\n        }\r\n    },\r\n\r\n    /* helper methods: */\r\n    rad2deg: function(rad) {\r\n        return rad * this.rad2deg_k;\r\n    },\r\n    deg2rad: function(deg) {\r\n        return deg * this.deg2rad_k;\r\n    },\r\n    random: function(min, max, plusminus) {\r\n        if (min == max) return min;\r\n        var result = Math.round(min - 0.5 + (Math.random() * (max - min + 1)));\r\n        if (plusminus) return Math.random() > 0.5 ? result : -result;\r\n        return result;\r\n    },\r\n\r\n    next_small_turn: function() {\r\n        this.small_turn_counter = Math.round(Math.random() * 10);\r\n    },\r\n    next_large_turn: function() {\r\n        this.large_turn_counter = Math.round(Math.random() * 40);\r\n    },\r\n    next_stationary: function() {\r\n        this.toggle_stationary_counter = this.random(50, 300);\r\n    },\r\n\r\n    bug_near_window_edge: function() {\r\n        this.near_edge = 0;\r\n        if (this.bug.top < this.options.edge_resistance)\r\n            this.near_edge |= this.NEAR_TOP_EDGE;\r\n        else if (this.bug.top > document.documentElement.clientHeight - this.options.edge_resistance)\r\n            this.near_edge |= this.NEAR_BOTTOM_EDGE;\r\n        if (this.bug.left < this.options.edge_resistance)\r\n            this.near_edge |= this.NEAR_LEFT_EDGE;\r\n        else if (this.bug.left > document.documentElement.clientWidth - this.options.edge_resistance)\r\n            this.near_edge |= this.NEAR_RIGHT_EDGE;\r\n        return this.near_edge;\r\n    },\r\n\r\n    getPos: function() {\r\n        if (this.inserted && this.bug && this.bug.style) {\r\n            return {\r\n                'top': parseInt(this.bug.top, 10),\r\n                'left': parseInt(this.bug.left, 10)\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n\r\n};\r\n\r\nvar SpawnBug = function() {\r\n    var newBug = {},\r\n        prop;\r\n    for (prop in Bug) {\r\n        if (Bug.hasOwnProperty(prop)) {\r\n            newBug[prop] = Bug[prop];\r\n        }\r\n    }\r\n    return newBug;\r\n};\r\n\r\n// debated about which pattern to use to instantiate each bug...\r\n// see http://jsperf.com/obj-vs-prototype-vs-other\r\n\r\n\r\n\r\n/**\r\n * Helper methods:\r\n **/\r\n\r\nvar mergeOptions = function(obj1, obj2, clone) {\r\n    if (typeof(clone) == 'undefined') {\r\n        clone = true;\r\n    }\r\n    var newobj = (clone) ? cloneOf(obj1) : obj1;\r\n    for (var key in obj2) {\r\n        if (obj2.hasOwnProperty(key)) {\r\n            newobj[key] = obj2[key];\r\n        }\r\n    }\r\n    return newobj;\r\n};\r\n\r\nvar cloneOf = function(obj) {\r\n    if (obj == null || typeof(obj) != 'object')\r\n        return obj;\r\n\r\n    var temp = obj.constructor(); // changed\r\n\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key)) {\r\n            temp[key] = cloneOf(obj[key]);\r\n        }\r\n    }\r\n    return temp;\r\n}\r\n\r\n/* Request animation frame polyfill */\r\n/* http://paulirish.com/2011/requestanimationframe-for-smart-animating/ */\r\nwindow.requestAnimFrame = (function() {\r\n    return window.requestAnimationFrame ||\r\n        window.webkitRequestAnimationFrame ||\r\n        window.mozRequestAnimationFrame ||\r\n        window.oRequestAnimationFrame ||\r\n        window.msRequestAnimationFrame || function( /* function */ callback, /* DOMElement */ element) {\r\n            window.setTimeout(callback, 1000 / 60);\r\n        };\r\n})();\r\n"],"sourceRoot":"/source/"}